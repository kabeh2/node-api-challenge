(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{124:function(e,t,a){e.exports=a(156)},151:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(52),o=a.n(c),l=a(29),s=a(39),u=a(30),i=a(123),p=a(65),m="FETCH_REQUEST",d="FETCH_SUCCESS",f="FETCH_ERROR",b="GET_PROJECTS",j="DELETE_PROJECT",E="ADD_PROJECT",v="UPDATE_PROJECT",h=function(){return{type:m}},x=function(e){return{type:d,payload:e}},O=function(e){return{type:f,payload:e}},y={loading:!1,projects:[],error:""},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(p.a)({},e,{loading:!0,error:""});case d:return Object(p.a)({},e,{loading:!1,projects:t.payload});case f:return Object(p.a)({},e,{loading:!1,error:t.payload});default:return e}},g=a(8),k=a.n(g),N=a(9),P=a(34),C=a(51),T=a(69),R=a.n(T),_="https://node-api-challenge-kabeh2.herokuapp.com/api",S=k.a.mark(W),A=k.a.mark(L),D=k.a.mark(X),F=k.a.mark(G),q=k.a.mark(Q),B=k.a.mark($),H=k.a.mark(K),J=k.a.mark(Y),U=k.a.mark(Z),I=function(){var e=Object(C.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("".concat(_,"/projects/").concat(t||""));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function W(e){var t,a,n;return k.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(N.c)(h());case 3:return r.next=5,Object(N.b)(I,e.payload);case 5:return t=r.sent,a=e.payload,n=a?[t]:Object(P.a)(t),r.next=10,Object(N.c)(x(n));case 10:r.next=17;break;case 12:return r.prev=12,r.t0=r.catch(0),console.log("Error: ",r.t0),r.next=17,Object(N.c)(O(r.t0));case 17:case"end":return r.stop()}}),S,null,[[0,12]])}function L(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)(b,W);case 2:case"end":return e.stop()}}),A)}var V=function(){var e=Object(C.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.delete("".concat(_,"/projects/").concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function X(e){var t,a;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Object(P.a)(e.payload.projects),n.prev=1,n.next=4,Object(N.c)(h());case 4:return a=Object(P.a)(e.payload.projects).filter((function(t){return t.id!==e.payload.id})),n.next=7,Object(N.c)(x(a));case 7:return n.next=9,Object(N.b)(V,e.payload.id);case 9:n.next=18;break;case 11:return n.prev=11,n.t0=n.catch(1),console.log("Error: ",n.t0),n.next=16,Object(N.c)(x(t));case 16:return n.next=18,Object(N.c)(O(n.t0.response));case 18:case"end":return n.stop()}}),D,null,[[1,11]])}function G(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)(j,X);case 2:case"end":return e.stop()}}),F)}var M=function(){var e=Object(C.a)(k.a.mark((function e(t){var a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.post("".concat(_,"/projects"),t);case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Q(e){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(N.c)(h());case 3:return t.next=5,Object(N.b)(M,e.payload);case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),console.log("Error: ",t.t0),t.next=12,Object(N.c)(O(t.t0));case 12:case"end":return t.stop()}}),q,null,[[0,7]])}function $(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)(E,Q);case 2:case"end":return e.stop()}}),B)}var z=function(){var e=Object(C.a)(k.a.mark((function e(t,a){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.put("".concat(_,"/projects/").concat(t),a);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function K(e){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(N.c)(h());case 3:return t.next=5,Object(N.b)(z,e.payload.id,e.payload.project);case 5:t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(0),console.log("Error: ",t.t0),t.next=12,Object(N.c)(O(t.t0));case 12:case"end":return t.stop()}}),H,null,[[0,7]])}function Y(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.d)(v,K);case 2:case"end":return e.stop()}}),J)}function Z(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(L),Object(N.b)(G),Object(N.b)($),Object(N.b)(Y)]);case 2:case"end":return e.stop()}}),U)}var ee=k.a.mark(te);function te(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.b)(Z)]);case 2:case"end":return e.stop()}}),ee)}var ae=Object(i.a)(),ne=[ae],re=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,ce=Object(u.c)({fetchReducer:w}),oe=Object(u.e)(ce,re(u.a.apply(void 0,ne)));ae.run(te);var le=oe,se=(a(150),a(151),a(19)),ue=a(98),ie=a(114),pe=a(161),me=a(162),de=a(158);var fe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,{bg:"light",variant:"light"},r.a.createElement(ie.a,null,r.a.createElement(pe.a.Brand,{href:"#home"},"Node REST API Challenge"),r.a.createElement(me.a,{className:"mr-auto"},r.a.createElement(l.c,{to:"/",exact:!0,activeClassName:"selected"},"Home")),r.a.createElement(me.a,null,r.a.createElement(l.c,{to:"/add-project",activeClassName:"selected-btn"},r.a.createElement(de.a,{variant:"outline-info"},"Add"))))))},be=a(159),je=a(119),Ee=a(163);var ve=Object(s.b)(null,(function(e){return{deleteProject:function(t,a){return e(function(e,t){return{type:j,payload:{id:e,projects:t}}}(t,a))}}}))((function(e){var t=e.projects,a=e.allProjects,n=e.deleteProject;return r.a.createElement(Ee.a,{className:"mb-4"},r.a.createElement(Ee.a.Header,{className:"d-flex justify-content-between align-items-center"},r.a.createElement("div",{style:{flexBasis:"60%"}},t.name),!t.actions&&r.a.createElement("div",null,r.a.createElement(l.b,{to:{pathname:"/projects/".concat(t.id)},className:"p-0"},r.a.createElement(de.a,{variant:"outline-info"},"Details")),r.a.createElement(de.a,{className:"ml-2",variant:"outline-danger",onClick:function(){return function(e,t){window.confirm("Are you sure you want to delete this project?")&&n(e,t)}(t.id,a)}},"Delete")),t.actions&&r.a.createElement(l.b,{to:{pathname:"/update/".concat(t.id),state:{project:a}},className:"p-0"},r.a.createElement(de.a,{variant:"outline-info"},"Update"))),t&&r.a.createElement(Ee.a.Body,null,r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,t.description))))}));var he=function(e){var t=e.action,a=e.index;return r.a.createElement(Ee.a,{className:"mb-4"},r.a.createElement(Ee.a.Header,{className:"d-flex justify-content-between align-items-center"},"Project Details ".concat(a+1," - ").concat(t.description)),t&&r.a.createElement(Ee.a.Body,null,r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,t.notes))))};var xe=function(e){var t=e.children;return r.a.createElement("div",{style:{position:"absolute",width:"100%"}},t)};var Oe=Object(s.b)((function(e){return{projects:e.fetchReducer.projects}}),(function(e){return{getProjects:function(t){return e(function(e){return{type:b,payload:e}}(t))}}}))((function(e){var t=e.projects,a=e.getProjects,c=Object(se.h)();return Object(n.useEffect)((function(){a(c.params.id)}),[a,c]),r.a.createElement(xe,null,t?r.a.createElement(be.a,{className:"justify-content-around"},t.map((function(e){return r.a.createElement(je.a,{md:12,key:e.id},r.a.createElement(ve,{projects:e,allProjects:t}),e.actions&&r.a.createElement(r.a.Fragment,null,e.actions.length>0&&r.a.createElement("h3",null,"Project Details"),e.actions.map((function(e,t){return r.a.createElement(he,{action:e,index:t,key:e.id})}))))}))):r.a.createElement("h1",null,"Loading..."))})),ye=a(49),we=a(70),ge=a(85),ke=a(88),Ne=a(160),Pe=function(e){var t=e.textArea,a=e.label,n=Object(ke.a)(e,["textArea","label"]),c=Object(ye.c)(n),o=Object(ge.a)(c,2),l=o[0],s=o[1];return r.a.createElement("div",{style:{marginBottom:"16px"}},r.a.createElement("label",{htmlFor:n.id||n.name},a),t?r.a.createElement(Ne.a.Control,Object.assign({as:"textarea",rows:"3"},l,n)):r.a.createElement(Ne.a.Control,Object.assign({},l,n)),s.touched&&s.error?r.a.createElement(Ne.a.Text,{className:"error",style:{color:"red"}},s.error):null)},Ce=function(e){var t=e.children,a=Object(ke.a)(e,["children"]),n=Object(ye.c)(Object(p.a)({},a,{type:"checkbox"})),c=Object(ge.a)(n,2),o=c[0],l=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a.Check,Object.assign({type:"checkbox"},o,a,{label:t,className:"mb-3"})),l.touched&&l.error?r.a.createElement(Ne.a.Text,{className:"error"},l.error):null)},Te=Object(s.b)(null,(function(e){return{addProject:function(t){return e(function(e){return{type:E,payload:e}}(t))},updateProject:function(t,a){return e(function(e,t){return{type:v,payload:{id:e,project:t}}}(t,a))}}}))((function(e){var t=e.addProject,a=e.updateProject,n=Object(se.f)(),c=Object(se.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ye.b,{initialValues:{name:c.state?c.state.project[0].name:"",description:c.state?c.state.project[0].description:"",completed:!!c.state&&c.state.project[0].completed},validationSchema:we.b({name:we.c().required("Required"),description:we.c().required("Required"),completed:we.a()}),onSubmit:function(){var e=Object(C.a)(k.a.mark((function e(r,o){var l,s,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=o.setErrors,s=o.setStatus,u=o.resetForm,e.prev=1,!c.state){e.next=7;break}return e.next=5,a(c.state.project[0].id,r);case 5:e.next=9;break;case 7:return e.next=9,t(r);case 9:u({}),s({success:!0}),n.replace("/"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),s({success:!1}),l({submit:e.t0.message});case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}()},r.a.createElement(ye.a,null,c.state?r.a.createElement("h3",null,"Update Project"):r.a.createElement("h3",null,"Add Project"),r.a.createElement(Pe,{label:"Name",name:"name",type:"text",placeholder:"Write name here..."}),r.a.createElement(Pe,{label:"Description",name:"description",type:"text",placeholder:"Write description here...",textArea:!0}),r.a.createElement(Ce,{name:"completed"},"Is this project completed?"),r.a.createElement(de.a,{variant:"outline-danger",type:"button",className:"mr-2",onClick:function(){window.confirm("Are you sure you want to cancel?")&&n.goBack()}},"Cancel"),r.a.createElement(de.a,{variant:"outline-info",type:"submit"},"Submit"))))}));var Re=function(){return r.a.createElement(be.a,{className:"justify-content-center"},r.a.createElement(je.a,{sm:8,md:6},r.a.createElement(Te,null)))};var _e=function(){return r.a.createElement(xe,null,r.a.createElement(Re,null))};a(155);var Se=function(){var e=Object(n.useContext)(se.d).location,t=Object(ue.b)(e,(function(e){return e.pathname}),{from:{opacity:0,transform:"translate(100%,0"},enter:{opacity:1,transform:"translate(0%,0)"},leave:{opacity:0,transform:"translate(-50%, 0"}});return r.a.createElement("div",{className:"App d-flex flex-column"},r.a.createElement("header",{className:"App-header"},r.a.createElement(fe,null)),r.a.createElement("main",{className:"my-5 flex-grow-1"},r.a.createElement(ie.a,null,t.map((function(e){var t=e.item,a=e.props,n=e.key;return r.a.createElement(ue.a.div,{key:n,style:a},r.a.createElement(se.c,{location:t},r.a.createElement(se.a,{path:"/update/:id",component:_e}),r.a.createElement(se.a,{path:"/add-project",component:_e}),r.a.createElement(se.a,{path:"/projects/:id",component:Oe}),r.a.createElement(se.a,{exact:!0,path:"/",component:Oe})))})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,{basename:"/node-api-challenge"},r.a.createElement(s.a,{store:le},r.a.createElement(Se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[124,1,2]]]);
//# sourceMappingURL=main.786367f1.chunk.js.map